# Intent Approval æœºåˆ¶

> Intent is the new source code.
> Code review ç”± AI å®Œæˆï¼ŒIntent review ç”± Human å®Œæˆã€‚

## è®¾è®¡åŸåˆ™

1. **æ¸è¿›å¢å¼º** - æ— å·¥å…·æ—¶çº¯ markdown å¯è¯»ï¼Œæœ‰å·¥å…·æ—¶ä½“éªŒæ›´å¥½
2. **Section ç²’åº¦** - å®¡æ‰¹ä»¥ section ä¸ºå•ä½ï¼Œä¸æ˜¯æ•´ä¸ªæ–‡ä»¶
3. **çŠ¶æ€å¯è§** - ä¸€çœ¼èƒ½çœ‹åˆ°å“ªäº›åŒºåŸŸéœ€è¦å…³æ³¨

---

## Approval å±‚çº§

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”’ LOCKED (Constitutional)                                  â”‚
â”‚                                                              â”‚
â”‚  æ ¸å¿ƒåŸåˆ™ï¼Œä¿®æ”¹éœ€è¦æ˜ç¡®çš„ human decision                      â”‚
â”‚  - æ¨¡å—è¾¹ç•Œè§„åˆ™                                              â”‚
â”‚  - æ ¸å¿ƒæ•°æ®ç»“æ„                                              â”‚
â”‚  - å®‰å…¨çº¦æŸ                                                  â”‚
â”‚                                                              â”‚
â”‚  ä¿®æ”¹æ—¶ï¼šå¿…é¡» human reviewï¼Œéœ€è¦æ˜ç¡®ç†ç”±                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ“ REVIEWED (Accepted)                                       â”‚
â”‚                                                              â”‚
â”‚  äººå·²å®¡é˜…æ¥å—ï¼Œä¿®æ”¹éœ€è¦ human æ³¨æ„                            â”‚
â”‚  - API ç­¾å                                                  â”‚
â”‚  - é…ç½®æ ¼å¼                                                  â”‚
â”‚  - å…³é”®æµç¨‹                                                  â”‚
â”‚                                                              â”‚
â”‚  ä¿®æ”¹æ—¶ï¼šé€šçŸ¥ humanï¼Œå¯ä»¥äº‹å review                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ DRAFT (Proposed)                                         â”‚
â”‚                                                              â”‚
â”‚  è®¾è®¡è‰æ¡ˆï¼ŒAgent å¯è‡ªç”±è¿­ä»£ä¼˜åŒ–                               â”‚
â”‚  - å®ç°ç»†èŠ‚                                                  â”‚
â”‚  - ç¤ºä¾‹ä»£ç                                                   â”‚
â”‚  - è¾…åŠ©è¯´æ˜                                                  â”‚
â”‚                                                              â”‚
â”‚  ä¿®æ”¹æ—¶ï¼šæ— éœ€é€šçŸ¥ï¼Œhuman å¯ä»¥é€‰æ‹©æ€§ review                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ ‡è®°è¯­æ³•

### Fenced Div æ ¼å¼

ä½¿ç”¨ `:::` åŒ…è£¹åŒºåŸŸï¼Œæ ‡è®°çŠ¶æ€ï¼š

```markdown
::: locked
## æ¨¡å—è¾¹ç•Œè§„åˆ™

Deploy æ¨¡å—ä¸å…è®¸ç›´æ¥è®¿é—® Router å†…éƒ¨...
:::

::: reviewed {by=robert date=2026-01-19}
## API ç­¾å

### create(chamberPath, config, appsDir)

åˆ›å»º chamber...
:::

::: draft
## å®ç°å»ºè®®

å¯ä»¥è€ƒè™‘ä½¿ç”¨ç¼“å­˜ä¼˜åŒ–...
:::
```

### å±æ€§æ ¼å¼

```
::: <status> {key=value key=value}
```

| å±æ€§ | è¯´æ˜ | ç¤ºä¾‹ |
|-----|------|------|
| by | å®¡æ‰¹äºº | by=robert |
| date | å®¡æ‰¹æ—¥æœŸ | date=2026-01-19 |
| reason | é”å®šåŸå›  | reason="æ ¸å¿ƒæ¶æ„" |
| ticket | å…³è” issue | ticket=#123 |

---

## æ¸²æŸ“æ•ˆæœ

### æ— å·¥å…·æ—¶ (GitHub/ç¼–è¾‘å™¨)

```
::: locked
## æ¨¡å—è¾¹ç•Œè§„åˆ™

å†…å®¹...
:::
```

çº¯æ–‡æœ¬å¯è¯»ï¼ŒåŒºåŸŸè¾¹ç•Œæ¸…æ™°ã€‚

### æœ‰å·¥å…·æ—¶ (Intent Viewer)

```
â”ƒğŸ”’â”‚ ## æ¨¡å—è¾¹ç•Œè§„åˆ™              â”‚
â”ƒ  â”‚                              â”‚ LOCKED
â”ƒ  â”‚ Deploy æ¨¡å—ä¸å…è®¸ç›´æ¥è®¿é—®... â”‚ æ ¸å¿ƒæ¶æ„
â”ƒ  â”‚                              â”‚
â”œâ”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”ƒâœ“ â”‚ ## API ç­¾å                  â”‚
â”ƒ  â”‚                              â”‚ REVIEWED
â”ƒ  â”‚ ### create(...)             â”‚ robert, 2026-01-19
â”ƒ  â”‚                              â”‚
â”œâ”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”ƒ  â”‚ ## å®ç°å»ºè®®                  â”‚
â”ƒ  â”‚                              â”‚ DRAFT
â”ƒ  â”‚ å¯ä»¥è€ƒè™‘...                  â”‚
```

---

## å·¥å…·é“¾æ„¿æ™¯

### Layer 0: çº¯æ–‡æœ¬ (ç°æœ‰)

- GitHub/ä»»æ„ç¼–è¾‘å™¨å¯é˜…è¯»
- `git diff` å¯ç”¨
- `grep` å¯æœç´¢ `::: locked` ç­‰

### Layer 1: Intent Viewer

- æ¸²æŸ“ä¾§æ çŠ¶æ€æ ‡è®°
- åŒºåŸŸèƒŒæ™¯/è¾¹æ¡†é«˜äº®
  - locked = çº¢è‰²è¾¹æ¡†
  - reviewed = ç»¿è‰²è¾¹æ¡†
  - draft = ç°è‰²è¾¹æ¡†
- æŠ˜å /å±•å¼€ sections
- çŠ¶æ€ç»Ÿè®¡ (N locked, M reviewed, K draft)

### Layer 2: Intent Approver

- äº¤äº’å¼å®¡æ‰¹ç•Œé¢
- ç‚¹å‡»æ ‡è®° reviewed/locked
- è‡ªåŠ¨æ·»åŠ  by/date
- æ‰¹é‡å®¡æ‰¹

### Layer 3: Intent Diff

- æŒ‰ section å¯¹æ¯”å˜æ›´
- é«˜äº® locked section çš„ä¿®æ”¹ï¼ˆâš ï¸ éœ€è¦å…³æ³¨ï¼‰
- æ˜¾ç¤ºçŠ¶æ€å˜æ›´ (draft â†’ reviewed)
- å¿½ç•¥ draft section çš„å°æ”¹åŠ¨

### Layer 4: Intent History

- æ—¶é—´çº¿è§†å›¾
- æ¯ä¸ª section çš„æ¼”å˜å†å²
- è°åœ¨ä»€ä¹ˆæ—¶å€™ approve äº†ä»€ä¹ˆ
- å…³è” git commits

---

## Agent è¡Œä¸ºè§„åˆ™

### ä¿®æ”¹ LOCKED section

```
1. æ£€æµ‹åˆ°ä¿®æ”¹ locked section
2. æš‚åœï¼Œç”Ÿæˆä¿®æ”¹ç†ç”±
3. è¯·æ±‚ human review
4. ç­‰å¾… human ç¡®è®¤åç»§ç»­
```

### ä¿®æ”¹ REVIEWED section

```
1. å…è®¸ä¿®æ”¹
2. è®°å½•å˜æ›´
3. é€šçŸ¥ human (å¯å¼‚æ­¥)
4. human å¯äº‹å review
```

### ä¿®æ”¹ DRAFT section

```
1. è‡ªç”±ä¿®æ”¹
2. æ— éœ€é€šçŸ¥
```

---

## è§£æç¤ºä¾‹

Agent è§£æ intent æ–‡ä»¶æ—¶ï¼š

```javascript
const sections = parseIntent(content);

// sections = [
//   {
//     id: 'module-boundaries',
//     status: 'locked',
//     title: 'æ¨¡å—è¾¹ç•Œè§„åˆ™',
//     content: '...',
//     meta: { reason: 'æ ¸å¿ƒæ¶æ„' }
//   },
//   {
//     id: 'api-signature',
//     status: 'reviewed',
//     title: 'API ç­¾å',
//     content: '...',
//     meta: { by: 'robert', date: '2026-01-19' }
//   },
//   ...
// ]
```

---

## ç‰ˆæœ¬å†å²

| æ—¥æœŸ | å˜æ›´ |
|------|------|
| 2026-01-19 | åˆå§‹è®¾è®¡ |
