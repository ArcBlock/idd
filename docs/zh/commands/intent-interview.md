# /intent-interview

> 通过结构化访谈创建完整的 INTENT.md

## 用法

```bash
/intent-interview
/intent-interview path/to/intent/
```

## 目的

通过引导式对话将你的想法转化为结构良好的 Intent 文档。访谈确保你在实现之前捕获所有关键方面。

## 何时使用

- 开始新功能或模块
- 记录现有功能
- 在编码前澄清需求
- 当你有想法但没有清晰规格时

## 访谈流程

### 阶段 1：愿景与范围

关于以下问题：
- 你要解决什么问题？
- 谁是用户/消费者？
- 核心价值主张是什么？

### 阶段 2：职责

关于以下问题：
- 这个模块/功能做什么？
- 它明确不做什么？
- 边界在哪里？

### 阶段 3：结构

指导：
- 组件拆解
- 数据流
- ASCII 图创建

```
示例输出：

## 结构

\```
┌─────────────┐     ┌─────────────┐
│   Handler   │────▶│   Service   │
└─────────────┘     └──────┬──────┘
                           │
                    ┌──────▼──────┐
                    │  Repository │
                    └─────────────┘
\```
```

### 阶段 4：API 设计

关于以下问题：
- 关键函数/方法
- 参数和返回类型
- 错误条件

### 阶段 5：示例

指导：
- 输入 → 输出 对
- 边界情况
- 错误场景

## 输出

一个完整的 INTENT.md 文件：

```markdown
# [功能名称] Intent

> 一句话描述

## 职责

### 做什么
- 职责 1
- 职责 2

### 不做什么
- 明确的非目标 1
- 明确的非目标 2

## 结构

\```
[ASCII 图]
\```

## API

### 函数名(参数1, 参数2)

**参数：**
- 参数1: 类型 - 描述
- 参数2: 类型 - 描述

**返回：** 类型 - 描述

**错误：**
- 错误类型: 何时发生

## 示例

### 基本用法

输入：
\```json
{ "field": "value" }
\```

输出：
\```json
{ "result": "success" }
\```

## 依赖

- 依赖1: 为什么需要

## 约束

- 约束 1
- 约束 2
```

## 良好访谈的技巧

1. **要具体** - "处理用户数据" → "验证邮箱格式并存储到数据库"
2. **定义边界** - 你不做什么和你要做什么一样重要
3. **使用 ASCII 图** - 一图胜千言
4. **包含示例** - 每个示例都会成为测试用例
5. **考虑错误** - 什么可能出错？

## 示例会话

```
> /intent-interview

开始 Intent 访谈...

## 阶段 1：愿景

你在构建什么功能或模块？
> API 端点的速率限制器

谁会使用这个？
> 内部 API 处理器

核心目标是什么？
> 通过限制每个客户端的请求来防止滥用

## 阶段 2：职责

这将执行哪些具体操作？
> 按客户端 IP 跟踪请求计数
> 超出限制时阻止请求
> 时间窗口后重置计数

这不会做什么？
> 不处理身份验证
> 不记录被阻止的请求（调用者的工作）
> 不在重启后持久化计数

[访谈继续...]

## 访谈完成

已生成：intent/rate-limiter/INTENT.md

下一步：
1. 审查生成的 Intent
2. 运行 /intent-critique 检查过度工程
3. 运行 /intent-review 批准章节
```

## 相关命令

- [/intent-critique](intent-critique.md) - 审查过度工程
- [/intent-review](intent-review.md) - 批准章节
- [/intent-build-now](intent-build-now.md) - 开始实现

## 另请参阅

- [Intent 标准](../intent-standard.md) - 文件格式规范
- [IDD 工作流程](../workflow.md) - 这在流程中的位置
